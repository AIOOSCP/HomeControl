meta:
  name: RF Switch
  description: Adds support for Intertechno YCT-100 switches

items:
  IntertechnoSwitch:
    config_fields:
      house:
        type: String
        default: A

      id:
        type: Integer
        default: 1

      433mhz_tx_adapter:
        type: 433mhz_adapter.RFTXAdapter

    config_schema:
      !vol/Required {schema: house, default: A}:
        !vol/All
          - !vol/Coerce { type: !type/str }
          - !vol/Upper
          - !vol/Any ["A", "B", "C", "D", "E", "F", "G", "H", "J", "K", "L", "M", "N", "O", "P", "Q"]

      !vol/Required {schema: id, default: 1}:
        !vol/All
          - !vol/Coerce { type: !type/int }
          - !vol/Range {min: 1, max: 16}

      !vol/Required {schema: 433mhz_tx_adapter}:
        !type/str

    state:
      "on":
        default: True
        setter: switch

    actions:
      toggle: toggle_on
